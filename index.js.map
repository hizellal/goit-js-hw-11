{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loaderContainer = document.querySelector('.loader-container');\n\nconst showLoader = () => {\n    loaderContainer.classList.remove('hidden');\n};\n\nconst hideLoader = () => {\n    loaderContainer.classList.add('hidden');\n};\n\nconst loadGallery = imgInfo => {\n    console.log(imgInfo);\n    return `\n    <li class='gallery-images'>\n    <a href='${imgInfo.largeImageURL}'>\n        <img \n        class='gallery-image' \n        src='${imgInfo.webformatURL}' \n        alt='${imgInfo.tags.split(\",\").slice(0, 3)}' \n        />\n    </a>\n        <div class='gallery-image-card js-gallery-image-card'>\n            <p class='image-card-likes'><span class=\"card-title\">Likes</span><br>${imgInfo.likes}</p>\n            <p class='image-card-views'><span class=\"card-title\">Views</span><br>${imgInfo.views}</p>\n            <p class='image-card-comments'><span class=\"card-title\">Comments</span><br>${imgInfo.comments}</p>\n            <p class='image-card-downloads'><span class=\"card-title\">Downloads</span><br>${imgInfo.downloads}</p>\n        </div>\n    </li>\n    `;\n}\n\nconst onBtnSubmit = event => {\n    event.preventDefault();\n\n    const searchedImage = event.currentTarget.elements.user_query.value.trim();\n    //console.log(searchedImage);\n    showLoader();\n\n    fetch(`https://pixabay.com/api/?key=48415738-453a35c27b5ce388251d5c099&q=${searchedImage}&image_type=photo`)\n    .then(response => {\n        if (!response.ok) {\n          iziToast.error({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          messageColor: '#fff',\n          position: 'topRight',\n          color: '#ef4040',\n        });\n        }\n\n        return response.json();\n    })\n    .then(data => {\n        //if (data.hits.length === 0) {\n        if (data.hits.length === 0 || !searchedImage) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                color: '#ef4040',\n            });\n            return;\n        }\n        const galleryLoad = data.hits.map(el => loadGallery(el)).join('');\n\n        gallery.innerHTML = galleryLoad;\n\n        new SimpleLightbox('.js-gallery a', { captionsData: 'alt', captionDelay: 250 });\n    })\n    .catch(err => {\n        console.log(err);\n    })\n    .finally(() => {\n        hideLoader();\n    });\n};\n\nsearchForm.addEventListener('submit', onBtnSubmit);"],"names":["searchForm","gallery","loaderContainer","showLoader","hideLoader","loadGallery","imgInfo","onBtnSubmit","event","searchedImage","response","iziToast","data","galleryLoad","el","SimpleLightbox","err"],"mappings":"wvBAMA,MAAMA,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAkB,SAAS,cAAc,mBAAmB,EAE5DC,EAAa,IAAM,CACrBD,EAAgB,UAAU,OAAO,QAAQ,CAC7C,EAEME,EAAa,IAAM,CACrBF,EAAgB,UAAU,IAAI,QAAQ,CAC1C,EAEMG,EAAcC,IAChB,QAAQ,IAAIA,CAAO,EACZ;AAAA;AAAA,eAEIA,EAAQ,aAAa;AAAA;AAAA;AAAA,eAGrBA,EAAQ,YAAY;AAAA,eACpBA,EAAQ,KAAK,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA,mFAIiCA,EAAQ,KAAK;AAAA,mFACbA,EAAQ,KAAK;AAAA,yFACPA,EAAQ,QAAQ;AAAA,2FACdA,EAAQ,SAAS;AAAA;AAAA;AAAA,OAMtGC,EAAcC,GAAS,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAgBD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpEL,IAEA,MAAM,qEAAqEM,CAAa,mBAAmB,EAC1G,KAAKC,IACGA,EAAS,IACZC,EAAS,MAAM,CACf,QAAS,2EACT,aAAc,OACd,SAAU,WACV,MAAO,SACjB,CAAS,EAGMD,EAAS,OACnB,EACA,KAAKE,GAAQ,CAEV,GAAIA,EAAK,KAAK,SAAW,GAAK,CAACH,EAAe,CAC1CE,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,MAAO,SACvB,CAAa,EACD,MACH,CACD,MAAME,EAAcD,EAAK,KAAK,IAAIE,GAAMT,EAAYS,CAAE,CAAC,EAAE,KAAK,EAAE,EAEhEb,EAAQ,UAAYY,EAEpB,IAAIE,EAAe,gBAAiB,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,CACtF,CAAK,EACA,MAAMC,GAAO,CACV,QAAQ,IAAIA,CAAG,CACvB,CAAK,EACA,QAAQ,IAAM,CACXZ,GACR,CAAK,CACL,EAEAJ,EAAW,iBAAiB,SAAUO,CAAW"}